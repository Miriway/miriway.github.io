<h1>Miriway</h1>

<h2>Introducing Miriway</h2>

<p>Miriway is a starting point for creating a Wayland based desktop environment using Mir.</p>

<p>At the core of Miriway is `miriway-shell`, a Mir based Wayland compositor that provides:</p>
<ul>
    <li>A "floating windows" window managament policy;</li>
    <li>Support for Wayland (and via `Xwayland`) X11 applications;</li>
    <li>Dynamic workspaces;</li>
    <li>Additional Wayland support for "shell components" such as panels and docs; and,</li>
    <li>Configurable shortcuts for launching standard apps such as launcher and terminal emulator.</li>
</ul>

<p>In addition to `miriway-shell`, Miriway has:</p>

<ul>
* A "terminal emulator finder" script `miriway-terminal`, that works with most terminal emulators;</li>
* A launch script `miriway` to simplify starting Miriway;</li>
* A default configuration file `miriway-shell.config`; and,</li>
* A greeter configuration `miriway.desktop` so Miriway can be selected at login</li>
</ul>

<p>Miriway has been tested with shell components from several desktop environments
and there are notes on enabling these in `miriway-shell.config`.</p>

<h2>In development</h2>

<p>Miriway uses the latest version of Mir available from the mir-team "release" PPA:</p>

<code>
sudo apt-add-repository ppa:mir-team/release
</code>

<h2>Dependencies</h2>

<p>Build dependencies:</p>
<code>
sudo apt install libmiral-dev
</code>

<p>Additional runtime dependencies:</p>

<code>
sudo apt install mir-graphics-drivers-desktop
</code>

<p>The default install is minimal and provides a basic shell and a default
`Ctrl-Alt-T` command that tries to find a terminal emulator (by using
`miriway-terminal`). If you don't already have a terminal emulator
installed, then `sudo apt install xfce4-terminal` is a simple option.</p>

<h2>Building and Installing</h2>

<code>
mkdir build
cd build
cmake ..
cmake --build .
</code>

<p>Installing</p>

<code>
sudo cmake --build . -- install
</code>

<p>Now you can run with `miriway`, or select "Miriway" from the login screen.</p>

<h2>Keyboard shortcuts</h2>

<table>
    <tr>
        <th>Keys</th>
        <th>Action</th>
    </tr>
    <tr>
        <td>Ctrl-Alt-BkSp</td>
        <td>Exit (long press to force if apps are open)</td>
    </tr>
    <tr>
        <td>Meta-Left</td>
        <td>Dock left</td>
    </tr>
    <tr>
        <td>Meta-Right</td>
        <td>Dock right</td>
    </tr>
    <tr>
        <td>Meta-PgUp</td>
        <td>Previous workspace</td>
    </tr>
    <tr>
        <td>Meta-Shift-PgUp</td>
        <td>Move window to previous workspace</td>
    </tr>
    <tr>
        <td>Meta-PgDn</td>
        <td>Next workspace</td>
    </tr>
    <tr>
        <td>Meta-Shift-PgDn</td>
        <td>Move window to next workspace</td>
    </tr>
    <tr>
        <td>Meta-Home</td>
        <td>First workspace</td>
    </tr>
    <tr>
        <td>Meta-Shift-Home</td>
        <td>Move window to first workspace</td>
    </tr>
    <tr>
        <td>Meta-End</td>
        <td>Last workspace</td>
    </tr>
    <tr>
        <td>Meta-Shift-End</td>
        <td>Move window to last workspace</td>
    </tr>
</table>

<h3>Keyboard shortcuts using `Meta` and `Ctrl-Alt` can be added or amended</h3>

<p>These (and other) defaults are specified in `/etc/xdg/xdg-miriway/miriway-shell.config` but can be overridden
in `~/.config/miriway-shell.config`. You should typically copy and edit the default config file. It provides
some examples using components from existing desktop environments. (And the corresponding `apt install` commands)</p>

<table>
    <tr>
        <th>Keys</th>
        <th>Action</th>
    </tr>
    <tr>
        <td>Ctrl-Alt-T</td>
        <td>Terminal emulator</td>
    </tr>
</table>

<h2>Example configurations</h2>

<p>I've provided an `example-configs` subdirectory to hold scripts to set up example configurations.</p>

<p>In particular, I've added `example-configs/miriway-config-alan_g.bash` which sets up some options I've been trying.
The script works fine on Ubuntu 23.04, but isn't portable (it uses apt and assumes packages are in the archive).
If you have an alternative configuration, please share!</p>